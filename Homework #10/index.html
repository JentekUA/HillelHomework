<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Homework #10</title>
  </head>
  <body>
    <script>
      const toDoList = {
        tasks: [],

        addTask: function (name, text, isFinished = false) {
          //get all task names
          const names = this.tasks.map(task => {
            return task.name;
          });

          if (!names.includes(name)) {
            newTask = {
              name: name,
              text: text,
              isFinished: isFinished,
            };

            this.tasks.push(newTask);
          }
        },

        removeTask: function (index, taskCount = 1) {
          if (index >= this.tasks.length || index < 0) {
            throw new RangeError(`Index ${index} is outside of tasks list.`);
          }

          this.tasks.splice(index, taskCount);
        },

        editTask: function (index, name, text, isFinished) {
          if (index >= this.tasks.length || index < 0) {
            throw new RangeError(`Index ${index} is outside of tasks list.`);
          }

          const editedTask = this.tasks[index];

          editedTask.name = name;
          editedTask.text = text;
          editedTask.status = isFinished;
        },

        getStatistic: function () {
          return {
            totalTasks: this.tasks.length,
            finishedTasks: this.tasks.filter(task => {
              return task.status;
            }).length,
            unfinishedTasks: this.tasks.filter(task => {
              return !task.status;
            }).length,
          };
        },
      };
    </script>
  </body>
</html>
